[script]
name=IsoHunt.to
source=IsoHunt.to
author=Bovski 2011/06/28
modified=Bovski & chip 2012/11/23,Bovski 2014/01/21, chip 2014/04/12
version=3

[home]
1=http://isohunt.to
2=http://isohunt.to.proxy.piratenpartij.nl

[profiles]
all=/torrents/?ihq=%SEARCH%&Torrent_page=%PAGENUM%
audio=/
video=/
apps=/
games=/

[nextpage]
type=2
initial=0
morepages=<li class="next"><a href="/torrents/?ihq=

[code1]
@data=vacuum(@data)
x=findh(x,@data,`<h1>Search results</h1>`,`<tbody`,`>`,)
z=find(x,@data,`</tbody`,`>`)
@data=crop(@data,x,z)
@data=replace(@data,`</td>`,`<!--EOL--></td>`)
@data=replace(@data,`Unsorted<br><span>`,``)
@data=replace(@data,`<br>`,` - `)
@data=replace(@data,`<b>`,``)
@data=replace(@data,`</b>`,``)
@data=replace(@data,`<br><span,<!--EOL-->`)
@data=replace(@data,`servOC(`,`href=`)
@r=split(@data,`</tr`,`<tr class="hlRow"`)
start
@q=split(@r,`</td>`,2)
t=array(@q,0)
x=find(@i,t,`>Sponsored<`)
if (x>0) then
	loop
end if
$date=array(@q,1)
t=array(@q,2)
@i=find(@i,t,`/torrent_details/`)
@i=findrev(@i,t,`<a `)
$page=extract(@i,t,`href="`,`"`,@home)
x=find(@i,t,`<span`)
if (x>0) then
	x=+(1)
	$name=extract(x,t,`>`,`</span`)
else
	$name=extract(@i,t,`>`,`<`)
end if
$torrent=code($page,2)
$size=array(@q,4)
$seeds=array(@q,5)
$leeches=array(@q,6)
aloop
[/code1]

[code2]
@i=find(@i,@data,`Download .torrent`)
@i=findrev(@i,@data,`<a `)
$torrent=extract(@i,@data,`href="`,`"`,@home)
$torrent=code($torrent,3)
[/code2]

[code3]
@i=find(@i,@data,`Download .torrent`)
@i=findrev(@i,@data,`<a `)
$torrent=extract(@i,@data,`href="`,`"`,@home)
[/code3]
